<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tbilisi Times</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

<body>

<div class="header">
    <h1>Tbilisi Times</h1>
</div>


<div id="input-text">
    <label for="titleInput"></label>
    <input type="text" id="titleInput" placeholder="Type blog title">

    <label for="descriptionInput"></label>
    <textarea rows="7" cols="70" id="descriptionInput" placeholder="Type blog descriptions"></textarea>


    <button onclick="createItem()" class="btn-all" id="btn-create">Create</button>
</div>



<!--container for new items-->
<div id="itemsContainer">

</div>



<script>
    let items = [];
    let itemId = 1;

    // Function to create a new item
    function createItem() {
        const titleInput = document.getElementById('titleInput');
        const descriptionInput = document.getElementById('descriptionInput');

        // get input values
        const name = titleInput.value;
        const description = descriptionInput.value;

        // create new item in object, with increment ID
        const newItem = { id: itemId++, name, description };
        // console.log(newItem)

        items.push(newItem);

        displayItems();

        // Clear input fields
        titleInput.value = '';
        descriptionInput.value = '';
    }

    // Function to display all items
    function displayItems() {
        const itemsContainer = document.getElementById('itemsContainer');
        itemsContainer.innerHTML = '';

        items.forEach(item => {
            const div = document.createElement('div');
            div.className = 'item';

            const nameElement = document.createElement('p');
            nameElement.innerText = `Name: ${item.name}`;
            div.appendChild(nameElement);

            const descriptionElement = document.createElement('p');
            descriptionElement.innerText = `Description: ${item.description}`;
            div.appendChild(descriptionElement);

            // add new div for buttons
            const buttons_div = document.createElement('div');
            buttons_div.setAttribute('class', 'buttons_div')

            // create delete button
            const deleteButton = document.createElement('button');
            deleteButton.innerText = 'Delete';
            deleteButton.onclick = () => deleteItem(item.id);
            deleteButton.setAttribute('class', 'btn-all btn-delete')

            // append delete button to buttons_div div
            buttons_div.appendChild(deleteButton);

            // create edit button
            const updateButton = document.createElement('button');
            updateButton.innerText = 'Update';
            updateButton.onclick = () => updateItem(item.id);
            buttons_div.appendChild(updateButton);
            updateButton.setAttribute("class", "btn-all btn-edit")

            // append buttons div into the item div
            div.appendChild(buttons_div)

            // append new item div into the main container
            itemsContainer.appendChild(div);
        });
    }

    // Function to delete an item by ID
    function deleteItem(id) {
        const index = items.findIndex(item => item.id === id);
        if (index !== -1) {
            items.splice(index, 1);
            displayItems();
        }
    }

    // Function to update an item by ID
    function updateItem(id) {
        const index = items.findIndex(item => item.id === id);
        if (index !== -1) {
            const name = prompt('Enter the updated name:');
            const description = prompt('Enter the updated description:');

            if (name && description) {
                items[index].name = name;
                items[index].description = description;
                displayItems();
            }
        }
    }
</script>

</body>
</html>